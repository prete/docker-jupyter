#!/usr/bin/env bash

DOCKERFILE_ROOT_DIR=/home/ubuntu/docker-jupyter/images
REGISTRY_NAME=quay.io/prete/docker-jupyter

for TAG_NAME in "base" "r-4.0.2" "teichlab"
do
    cd $DOCKERFILE_ROOT_DIR/$TAG_NAME
    echo "üê≥ Building $TAG_NAME"
    docker build -t "$REGISTRY_NAME:$TAG_NAME" . 2> $TAG_NAME.log.txt
    RESULT=$?
    if [ $RESULT -eq 0 ]; then
      echo "‚úÖ $TAG_NAME build successfully!"
    else
      echo "‚ö†Ô∏è  $TAG_NAME build failed!"
    fi
done
